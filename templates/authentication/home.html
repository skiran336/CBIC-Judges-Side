{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome Page</title>
    <link rel="stylesheet" type="text/css" href="{% static 'authentication/home.css' %}">
</head>
<body>
    <div class="black-box">
        <a href="https://www.umbc.edu/" target="_blank">
            <img src="https://entrepreneurship.umbc.edu/wp-content/themes/sights/images/apple-touch-icon.png" alt="UMBC Logo">
            <span class='text'>UMBC</span>
        </a>
    </div>
    <div class="yellow-box">
        <a href="https://entrepreneurship.umbc.edu/" target="_blank">
            <span class='text'>Alex. Brown Center For Entrepreneurship and Innovation</span>
        </a>
    </div>
    <div class="logout-container">
        <a href="{% url 'signout' %}">
            <img src="{% static 'cbic.png' %}" alt="Logout">
            Logout
        </a>
    </div>
    <div class="container">
        <h1>Welcome {{ user.first_name }}!</h1>
    </div>
    <div class="form-container">
        {% if user.is_authenticated %}
        <div class="accordion-container">
            {% for student in students %}
            <div class="accordion">
                <button class="accordion-header">{{ student.ideaName }}</button>
                <div class="panel">
                    <p><strong>Name:</strong> {{ student.name }}</p>
                    <p><strong>Major:</strong> {{ student.major }}</p>
                    <p><strong>Email:</strong> {{ student.email }}</p>
                    <p><strong>Phone Number:</strong> {{ student.phoneNumber }}</p>
                    <p><strong>Class Standing:</strong> {{ student.classStanding }}</p>
                    <p><strong>Track:</strong> {{ student.track }}</p>
                    <p><strong>Questions:</strong></p>
                    <ul>
                        <p><strong>Opportunity/Market Problem: Explain how current market conditions are creating an opportunity for your product/service. Convince the investor of the uniqueness of the business and the NEED for your company.</strong> </p>
                        <li>{{ student.question1 }}</li>
                        <li>{{ student.question2 }}</li>
                        <li>{{ student.question3 }}</li>
                        <li>{{ student.question4 }}</li>
                    </ul>
                    <p><strong>Time to Launch:</strong> {{ student.timeToLaunch }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>You are not logged in.</p>
        {% endif %}
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var acc = document.getElementsByClassName("accordion-header");
            for (var i = 0; i < acc.length; i++) {
                acc[i].addEventListener("click", function() {
                    this.classList.toggle("active");
                    var panel = this.nextElementSibling;
                    if (panel.style.maxHeight) {
                        panel.style.maxHeight = null;
                    } else {
                        panel.style.maxHeight = panel.scrollHeight + "px";
                    }
                });
            }
        });
    </script>
</body>
</html>
{% endblock %}
